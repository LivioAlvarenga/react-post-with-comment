<h1 align="center"> 
	Projeto de post com coment√°rio utilizando o Nextjs 13 App Router, React, Typescript e Tailwindcss.
</h1>
<p align="center">
 <a href="#-sobre-o-projeto">Sobre</a> ‚Ä¢
 <a href="#-vitrine-dev">Vitrine Dev</a> ‚Ä¢
 <a href="#-tecnologias">Tecnologias</a> ‚Ä¢
 <a href="#-instala√ß√£o">Instala√ß√µes</a> ‚Ä¢
 <a href="#-funcionalidades">Funcionalidades</a> ‚Ä¢
 <a href="#-deploy">Deploy</a> ‚Ä¢
 <a href="#-good-habits">Good habits</a> ‚Ä¢
 <a href="#-autor">Autor</a> ‚Ä¢ 
 <a href="#-licen√ßa">Licen√ßa</a>
</p>

&nbsp;

![react-post-with-comment](https://github.com/LivioAlvarenga/react-post-with-comment/blob/main/web/public/Monitor_laptop_Tablet_Celular-Fundos_limpos.png?raw=true#vitrinedev)

![react-post-with-comment](https://github.com/LivioAlvarenga/react-post-with-comment/blob/main/web/public/phone-hand-laptop.png?raw=true)

<a id="-sobre-o-projeto"></a>

## üíª Sobre o projeto

üöÄ Criei uma aplica√ß√£o React utilizando o Nextjs 13 App Router e reciclei meu conhecimento sobre os conceitos mais importantes do React, entre eles est√£o componentiza√ß√£o, propriedades, estados, imutabilidade e hooks. O projeto utilizou React, Typescript e Tailwind CSS.

A aplica√ß√£o utilizou a metodologia mobile first e foi desenvolvida com o objetivo de criar um post com coment√°rios.

&nbsp;

<p align="center">
  <a href="#license"><img src="https://img.shields.io/github/license/LivioAlvarenga/Template-Api-Rest-Node-Docker-Prisma?color=ff0000"></a>
  <a href="https://github.com/LivioAlvarenga/Template-Api-Rest-Node-Docker-Prisma/issues"><img src="https://img.shields.io/github/issues/LivioAlvarenga/Template-Api-Rest-Node-Docker-Prisma" alt="issue site Template-Api-Rest-Node-Docker-Prisma" /></a>
  <a href="https://github.com/LivioAlvarenga/Template-Api-Rest-Node-Docker-Prisma"><img src="https://img.shields.io/github/languages/count/LivioAlvarenga/Template-Api-Rest-Node-Docker-Prisma" alt="total amount of programming languages used in the project" /></a>
  <a href="https://github.com/LivioAlvarenga/Template-Api-Rest-Node-Docker-Prisma"><img src="https://img.shields.io/github/languages/top/LivioAlvarenga/Template-Api-Rest-Node-Docker-Prisma" alt="most used language in the projects" /></a>
  <a href="https://github.com/LivioAlvarenga/Template-Api-Rest-Node-Docker-Prisma"><img src="https://img.shields.io/github/repo-size/LivioAlvarenga/Template-Api-Rest-Node-Docker-Prisma" alt="repository size" /></a>
<p>

<p align="center">
  <a href= "https://react-post-with-comment.vercel.app/"><img alt="deploy badge Vercel" height=40 src="https://raw.githubusercontent.com/LivioAlvarenga/LivioAlvarenga/fc06a7aa8d0f8ed5f446dcd83efd842e810d77df/files/vercel-badge.svg"></a>
<p>

&nbsp;

---

&nbsp;
<a id="-vitrine-dev"></a>

## üì∫ Vitrine Dev

| :placard: Vitrine.Dev |                                                                                                |
| --------------------- | ---------------------------------------------------------------------------------------------- | --- |
| :sparkles: Nome       | **Template**                                                                                   |
| :label: Tecnologias   | NodeJs, TypeScript, JavaScript, Typescript, Nextjs, React, Tailwind, ZodJs, EsLint e prettier. |     |

---

&nbsp;
<a id="-tecnologias"></a>

## üõ† Tecnologias

As seguintes ferramentas foram usadas na constru√ß√£o do projeto

&nbsp;

<p align="center">
  <!-- <a href= ""><img alt="" src="https://img.shields.io/static/v1?logoWidth=15&logoColor=ECD53F&logo=.ENV&label=Managing Environment Variables&message=.ENV&color=ECD53F"></a> -->
  <a href= "https://nodejs.org/en/" target="_blank" rel="noopener noreferrer"><img alt="Node.js badge" src="https://raw.githubusercontent.com/LivioAlvarenga/LivioAlvarenga/2467074c4c912dd04b12bcee1076cb5ca7ba9eaf/files/nodejs-badge.svg"></a>
  <a href= "https://www.typescriptlang.org/" target="_blank" rel="noopener noreferrer"><img alt="TypeScript badge" src="https://raw.githubusercontent.com/LivioAlvarenga/LivioAlvarenga/2467074c4c912dd04b12bcee1076cb5ca7ba9eaf/files/typescript-badge.svg"></a>
  <a href= "https://www.javascript.com/" target="_blank" rel="noopener noreferrer"><img alt="JavaScript badge" src="https://raw.githubusercontent.com/LivioAlvarenga/LivioAlvarenga/2467074c4c912dd04b12bcee1076cb5ca7ba9eaf/files/javascript-badge.svg"></a>
  <a href= "https://nextjs.org/"><img alt="Next.js badge" src="https://raw.githubusercontent.com/LivioAlvarenga/LivioAlvarenga/d0444795ba750206fa52326b03a097df76171407/files/nextjs-badge.svg"></a>
  <a href= "https://reactjs.org/"><img alt="React badge" src="https://raw.githubusercontent.com/LivioAlvarenga/LivioAlvarenga/d0444795ba750206fa52326b03a097df76171407/files/react-badge.svg"></a>
  <a href= "https://tailwindcss.com/"><img alt="Tailwind CSS badge" src="https://img.shields.io/static/v1?logoWidth=15&logoColor=06b6d4&logo=Tailwind CSS&label=Style&message=Tailwind CSS&color=06b6d4"></a>
  <a href= "https://zod.dev/" target="_blank" rel="noopener noreferrer"><img alt="ZOD badge" src="https://raw.githubusercontent.com/LivioAlvarenga/LivioAlvarenga/7caba2f743ee9b61f0225a22da57466ecb67097c/files/zod-badge.svg"></a>
  <a href= "https://code.visualstudio.com/download" target="_blank" rel="noopener noreferrer"><img alt="vscode download" src="https://raw.githubusercontent.com/LivioAlvarenga/LivioAlvarenga/2467074c4c912dd04b12bcee1076cb5ca7ba9eaf/files/vsCode-badge.svg"></a>
  <a href= "https://github.com/prettier/prettier" target="_blank" rel="noopener noreferrer"><img alt="code formatter prettier" src="https://raw.githubusercontent.com/LivioAlvarenga/LivioAlvarenga/2467074c4c912dd04b12bcee1076cb5ca7ba9eaf/files/prettier-badge.svg"></a>
  <a href= "https://eslint.org/" target="_blank" rel="noopener noreferrer"><img alt="code standardization eslint" src="https://raw.githubusercontent.com/LivioAlvarenga/LivioAlvarenga/59575ed19b13121cd113cfc66a71f18dea210c79/files/eslint-badge.svg"></a>
</p>

---

&nbsp;
<a id="-instala√ß√£o"></a>

## ‚öôÔ∏è Instala√ß√µes

&nbsp;

### Criando **projeto NextJs**

```bash
# Create project nodejs with npm and -y to accept all default options
npx create-next-app@latest

# What is your project named? project-Name
# Would you like to use TypeScript with this project? Yes
# Would you like to use ESLint with this project? Yes
# Would you like to use Tailwind CSS with this project? Yes
# Would you like to use `src/` directory with this project? Yes
# Use App Router (recommended)? Yes
# Would you like to customize the default import alias? No
```

```json
// Create scripts in package.json
"scripts": {
  "dev": "next dev", // Start development server
  "build": "next build", // Create production build
  "start": "next start", // Start production server
  "lint": "next lint" // Run ESLint
},
```

_Create **`.nvmrc`** file with version of NodeJs to use in project_
&nbsp;

### Configurando **ESlint and Prettier**

```bash
npm install -D @rocketseat/eslint-config # Install Rocketseat ESLint config
npm install -D prettier-plugin-tailwindcss # Install prettier plugin to use TailwindCSS
```

_Edit **`.eslintrc.json`** file with extends Rocketseat ESLint config_

```json
{
  "extends": ["next/core-web-vitals", "@rocketseat/eslint-config/react"]
}
```

_Create **`.eslintignore`** file with all ESLint ignore files_

_Create **`prettier.config.js`** file with plugin prettier-plugin-tailwindcss to use Prettier to format classnames of TailwindCSS_

```javascript
module.exports = {
  plugins: [require("prettier-plugin-tailwindcss")],
};
```

&nbsp;

### **TypeScript** architecture

...

&nbsp;

### **Others** libraries

```bash
npm install zod # Install zod to use types in NodeJs and validate data
```

---

&nbsp;
<a id="-funcionalidades"></a>

## ‚öôÔ∏è Funcionalidades

### RF - Requisitos Funcionais

- Deve ser poss√≠vel ...;
- Deve ser poss√≠vel ...;

### RN - Regras de Neg√≥cio

- O usu√°rio n√£o pode ...;
- O usu√°rio n√£o pode ...;

### RNF - Requisitos N√£o Funcionais

- Uso de Zod para valida√ß√£o de dados de entrada;
- Uso de Eslint para padroniza√ß√£o de c√≥digo;
- Uso de Prettier para padroniza√ß√£o de c√≥digo;
- Uso de Dotenv para vari√°veis de ambiente;

&nbsp;

### üß≠ Rodando a aplica√ß√£o (Modo desenvolvimento)

```bash
git clone https://github.com/LivioAlvarenga/react-post-with-comment # Clone este reposit√≥rio
cd react-post-with-comment # Acesse a pasta do projeto no seu terminal/cmd
npm install # Instale as depend√™ncias
npm run dev # Execute a aplica√ß√£o em modo de desenvolvimento, a aplica√ß√£o ser√° aberta na porta:3000 - acesse http://localhost:3000

# Read the observations in home page
```

_Create **`.npmrc`** file with `save-exact=true` to save exact version of dependencies. Create only if you want to save exact version of dependencies and do this after install all dependencies_

_Open **`.gitignore`** and add files folder, because this folder is to put files of project that is not committed in git_

### üß≠ Rodando a aplica√ß√£o (Modo produ√ß√£o)

```bash
npm run build # Compilar o TypeScript em modo de produ√ß√£o
npm run start # Iniciar o servidor em modo de produ√ß√£o
```

### üß≠ Testes

...

&nbsp;

---

&nbsp;
<a id="-deploy"></a>

## üöÄ Deploy

O deploy foi realizado na plataforma Vercel.com.

As vari√°veis de ambiente configuradas incluem:

- ...

---

&nbsp;
<a id="-good-habits"></a>

## ‚úÖ Good Habits

&nbsp;

### ‚ùó 1 - export default function Vs export function

&nbsp;

Em resumo, a diferen√ßa fundamental entre essas duas abordagens de exporta√ß√£o reside na forma como s√£o importadas em outros arquivos. export default function Home() permite um pouco mais de flexibilidade na nomenclatura ao importar, enquanto export function Home() requer que voc√™ especifique exatamente o nome da fun√ß√£o que est√° importando.

```javascript
export default function Home() {}

import MyHome from "./Home";
```

```javascript
export function Home() {}

import { Home } from "./Home";
```

Para garantir esta boa pratica de c√≥digo, foi instalado o plugin **eslint-plugin-import** e configurado no arquivo **`.eslintrc.json`**. Excluindo os arquivos **`page.tsx`** e **`layout.tsx`** que no NextJs usa o export default.

```json
"overrides": [
    {
      "files": [
        "**/*.tsx"
      ],
      "excludedFiles": [
        "*page.tsx",
        "*layout.tsx"
      ],
      "plugins": [
        "import"
      ],
      "rules": {
        "import/no-default-export": "error"
      }
    }
  ]
```

&nbsp;

### ‚ùó 2 - Programa√ß√£o Imperativa Vs Programa√ß√£o Declarativa

&nbsp;

**Programa√ß√£o Imperativa:**  
A programa√ß√£o imperativa √© uma lista detalhada de instru√ß√µes passo a passo para o computador. √â o "como" fazer algo. √â semelhante a uma receita de cozinha.

Exemplo: Em JavaScript puro ou jQuery, voc√™ pode limpar um campo de entrada de formul√°rio da seguinte maneira:

```javascript
function handleCrateNewComment(event: FormEvent) {
  event.preventDefault();
  event.target.name.value = "";
}
```

Nesse exemplo, voc√™ est√° dizendo explicitamente ao navegador para limpar o valor do campo.

**Programa√ß√£o Declarativa:**
A programa√ß√£o declarativa envolve o "o qu√™" fazer, sem especificar o "como". Voc√™ declara o resultado desejado, e o computador descobre como chegar l√°.

Exemplo: No React, ao inv√©s de manipular o DOM diretamente, voc√™ declara o estado do seu componente e deixa o React cuidar das mudan√ßas no DOM.

```javascript
function handleCrateNewComment(event: FormEvent) {
  event.preventDefault();

  setComments([...comments, newCommentText]);
  setNewCommentText("");
}
```

Em resumo, a programa√ß√£o imperativa envolve controle manual e instru√ß√µes espec√≠ficas, enquanto a programa√ß√£o declarativa envolve descrever o resultado desejado e deixar o sistema descobrir como realiz√°-lo.

√â uma boa pratica usar sempre que poss√≠vel a programa√ß√£o declarativa no React, pois ela √© mais f√°cil de ler e entender, e tamb√©m √© mais f√°cil de manter e reutilizar.

&nbsp;

### ‚ùó 3 - Porque n√£o usar index como key

&nbsp;

Em React, a propriedade key √© muito importante quando se lida com listas de componentes. Essa key ajuda o React a identificar quais itens foram alterados, adicionados ou removidos, o que auxilia o algoritmo de diferen√ßas do React (tamb√©m conhecido como **_Reconciliation_**) a fazer seu trabalho de forma mais eficiente.

Vamos para o exemplo de uma lista de coment√°rios. Cada coment√°rio pode ser um componente, e se voc√™ est√° renderizando uma lista desses componentes, o React precisa de uma maneira de identificar cada um deles unicamente.

Aqui est√£o algumas situa√ß√µes nas quais o React decide se um componente deve ser renderizado:

- **Quando o estado muda**: Se o estado interno de um componente muda, o React vai renderizar esse componente novamente.

- **Quando a propriedade muda**: Se as propriedades (props) que um componente recebe mudam, o React renderiza esse componente novamente.

- **Quando um componente pai renderiza**: Se um componente pai renderiza, todos os seus componentes filhos tamb√©m v√£o renderizar.

Se `voc√™ usa o √≠ndice do item na lista como key`, isso pode causar problemas se a ordem dos itens mudar. O React usa a key para decidir se um componente √© "o mesmo" que um componente anterior com a mesma key.

Se um item da lista se mover, o React v√™ que a key em sua posi√ß√£o anterior desapareceu e uma nova apareceu em outra posi√ß√£o. Isso faz com que o React descarte o componente antigo e crie um novo, mesmo que eles representem o mesmo item da lista.

Isso n√£o √© apenas ineficiente, mas tamb√©m pode causar problemas se o componente tiver estado que deve ser preservado.

Portanto, `√© recomendado usar algo que identifique unicamente cada item da lista como key`, como um ID do item, por exemplo. Isso garante que, mesmo se a ordem dos itens mudar, o React ainda saber√° que √© o mesmo item e reutilizar√° o componente existente em vez de criar um novo.

```jsx
{
  comments.map((comment) => <Comment key={comment.id} data={comment} />);
}
```

No exemplo acima, mesmo se a ordem dos coment√°rios mudar, cada componente Comment continuar√° correspondendo ao mesmo coment√°rio, pois estamos usando comment.id como key, o que n√£o muda quando a ordem dos coment√°rios muda. Isso resulta em uma renderiza√ß√£o mais eficiente.

&nbsp;

### ‚ùó 4 - Entendendo a Atualiza√ß√£o do Estado no React e a Import√¢ncia das Closures

&nbsp;

```javascript
const [likeCount, setLikeCount] = useState(0);
function handleLikeComment() {
  setLikeCount((state) => {
    return state + 1;
  });
}
```

Neste exemplo, estamos usando a vers√£o de `setLikeCount` que aceita uma fun√ß√£o como argumento. Essa fun√ß√£o recebe o estado anterior como argumento e retorna o novo estado. Esta √© uma abordagem segura quando o novo estado depende do estado anterior, pois garantimos que estamos sempre trabalhando com o valor mais atual do estado.

```javascript
const [likeCount, setLikeCount] = useState(0);
function handleLikeComment() {
  setLikeCount(likeCount + 1);
}
```

Neste exemplo, estamos usando a vers√£o de `setLikeCount` que aceita um valor direto como argumento. Esse valor √© calculado com base no valor atual de `likeCount` no momento em que `setLikeCount` √© chamado. No entanto, se chamarmos `setLikeCount` duas vezes na mesma fun√ß√£o de manipula√ß√£o de eventos, o estado n√£o ser√° atualizado corretamente.

```javascript
const [likeCount, setLikeCount] = useState(0);
function handleLikeComment() {
  setLikeCount(likeCount + 1);
  setLikeCount(likeCount + 1);
}
```

Se tivermos esse c√≥digo, poder√≠amos esperar que cada chamada para `handleLikeComment` incrementasse `likeCount` em 2. No entanto, isso n√£o acontece. Em vez disso, `likeCount` √© incrementado apenas em 1.

Isso ocorre porque, no momento em que `setLikeCount` √© chamado pela primeira vez, `likeCount` ainda tem seu valor original. O estado n√£o √© atualizado imediatamente quando `setLikeCount` √© chamado; em vez disso, o React "agenda" a atualiza√ß√£o para ocorrer mais tarde. Quando `setLikeCount` √© chamado pela segunda vez, `likeCount` ainda tem o mesmo valor que tinha antes, ent√£o estamos basicamente agendando a mesma atualiza√ß√£o duas vezes.

Para resolver esse problema e garantir que `likeCount` seja incrementado corretamente, devemos usar a vers√£o de setLikeCount que aceita uma fun√ß√£o como argumento:

```javascript
const [likeCount, setLikeCount] = useState(0);
function handleLikeComment() {
  setLikeCount((state) => state + 1);
  setLikeCount((state) => state + 1);
}
```

> Agora, cada chamada para `handleLikeComment` incrementar√° `likeCount` em 2, como esperado. Isso ocorre porque, ao usar uma fun√ß√£o como argumento para `setLikeCount`, garantimos que sempre trabalhamos com o valor mais atual do estado, mesmo se m√∫ltiplas atualiza√ß√µes forem agendadas na mesma fun√ß√£o de manipula√ß√£o de eventos.

---

&nbsp;
<a id="-autor"></a>

## ü¶∏ Autor

Ol√°, eu sou Livio Alvarenga, Engenheiro de Produ√ß√£o | Dev Back-end e Front-end. Sou aficcionado por tecnologia, programa√ß√£o, processos e planejamento. Uni todas essas paix√µes em uma s√≥ profiss√£o. D√∫vidas, sugest√µes e cr√≠ticas s√£o super bem vindas. Seguem meus contatos.

- [www.livioalvarenga.com](https://livioalvarenga.com)
- contato@livioalvarenga.com

&nbsp;

<p align="center">
  <a href= "https://www.livioalvarenga.com/"><img alt="portf√≥lio livio alvarenga" src="https://raw.githubusercontent.com/LivioAlvarenga/LivioAlvarenga/3109a24e71f07dbad193ae0ddbc43b69b39c7adf/files/badgePortifolioLivio.svg"></a>
  <a href= "https://www.linkedin.com/in/livio-alvarenga-planejamento-mrp-engenheiro-produ%C3%A7%C3%A3o-materiais-vba-powerbi/"><img alt="perfil LinkedIn livio alvarenga" src="https://img.shields.io/static/v1?logoWidth=15&logoColor=0A66C2&logo=LinkedIn&label=LinkedIn&message=Livio Alvarenga&color=0A66C2"></a>
  <a href= "https://twitter.com/AlvarengaLivio"><img alt="perfil twitter livio alvarenga" src="https://img.shields.io/static/v1?logoWidth=15&logoColor=1DA1F2&logo=Twitter&label=Twitter&message=@AlvarengaLivio&color=1DA1F2"></a>
  <a href= "https://www.instagram.com/livio_alvarenga/"><img alt="perfil Instagram livio alvarenga" src="https://img.shields.io/static/v1?logoWidth=15&logoColor=E4405F&logo=Instagram&label=Instagram&message=@livio_alvarenga&color=E4405F"></a>
  <a href= "https://www.facebook.com/profile.php?id=100083957091312"><img alt="perfil Facebook livio alvarenga" src="https://img.shields.io/static/v1?logoWidth=15&logoColor=1877F2&logo=Facebook&label=Facebook&message=Livio Alvarenga&color=1877F2"></a>
  <a href= "https://www.youtube.com/channel/UCrZgsh8IWyyNrRZ7cjrPbcg"><img alt="perfil YouTube livio alvarenga" src="https://img.shields.io/static/v1?logoWidth=15&logoColor=FF0000&logo=YouTube&label=Youtube&message=Livio Alvarenga&color=FF0000"></a>
</p>
<p align="center">
 <a href= "https://cursos.alura.com.br/vitrinedev/livioalvarenga"><img alt="perfil vitrinedev livio alvarenga" align="center" height="30" src="https://raw.githubusercontent.com/LivioAlvarenga/LivioAlvarenga/e0f5b5a82976af114d957c20f0c78b4d304a68a0/files/vitrinedev.svg"></a>
</p>

---

&nbsp;
<a id="-licen√ßa"></a>

## üìù Licen√ßa

Este projeto √© [MIT licensed](./LICENSE).

##### _#CompartilheConhecimento_

```

```
